<div>
    <app-header></app-header>
</div>

<div class="search-bar">
    <app-search-bar (newItemEvent)="getSearchedProducts($event)"></app-search-bar>
</div>

<div  class="body">

    
    <div class="sort-buttons">
        <div class="ordinationPerName">
          <button class="toggle-button">Name asc</button>
          <button class="toggle-button">Name desc</button>
        </div>
        <!--
        <div class="ordinationPerPrice">
          <button class="toggle-button" (click)="sortBy('price-asc')">Price asc</button>
          <button class="toggle-button" (click)="sortBy('price-desc')">Price desc</button>
        </div>
    </div>


    @if (allProducts != null){

        @for (product of allProducts; track product.id) {

            <a class="product-card">
                <div>{{product.name}} </div>
                <div>{{product.price}} </div>



            </a>
        }
        @empty{
            <div class="loading">No hay resultados</div>
            @if (wasNextPage) 
            {
                {{ previousPage() }}
            }
        }

    }@else {
        <div>Cargando...</div>
    }


    <div class="pagination">
        <button id="first-button" (click)="goToFirstPage()"><<</button>
        <button id="prev-button" (click)="previousPage()"><</button>
        <div id="pagination-numbers">{{ currentPage }}</div>
        <button id="next-button" (click)="nextPage()">></button>
        <button id="last-button" (click)="goToLastPage()">>></button>

        <!-- Selector para elegir el número de productos por página -->
        <select id="products-per-page" (click)="newNumberOfProducts()">
            <option value="4">4</option>
            <option value="8" >8</option>
            <option value="12">12</option>
            <option value="16">16</option>
        </select>
    </div>
</div>

